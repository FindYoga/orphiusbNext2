"use strict";(()=>{var e={};e.id=147,e.ids=[147],e.modules={2167:e=>{e.exports=require("axios")},2509:e=>{e.exports=require("firebase-admin")},6781:e=>{e.exports=require("google-auth-library")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8910:e=>{e.exports=require("request")},6249:(e,o)=>{Object.defineProperty(o,"l",{enumerable:!0,get:function(){return function e(o,t){return t in o?o[t]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,t)):"function"==typeof o&&"default"===t?o:void 0}}})},3594:(e,o,t)=>{t.r(o),t.d(o,{config:()=>g,default:()=>u,routeModule:()=>l});var n={};t.r(n),t.d(n,{default:()=>c});var s=t(1802),r=t(7153),a=t(6249);let i=t(4532);function c(e,o){if("POST"===e.method){let{message:t}=e.body;i.getAccessToken().then(e=>(console.dir(`the message is this ${t}`),i.sendMessage(e,t))),console.log("Received message:",t),o.status(200).json({message:"Message received successfully"})}else o.setHeader("Allow",["POST"]),o.status(405).end(`Method ${e.method} Not Allowed`)}let u=(0,a.l)(n,"default"),g=(0,a.l)(n,"config"),l=new s.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/sendMessage",pathname:"/api/sendMessage",bundlePath:"",filename:""},userland:n})},4532:(e,o,t)=>{t(2509);let{JWT:n}=t(6781);t(8910);let s=t(2167);var r=t(6315);e.exports={getAccessToken:function(){return new Promise(function(e,o){new n(r.client_email,null,r.private_key,["https://www.googleapis.com/auth/firebase.messaging"],null).authorize(function(t,n){if(t){console.log(t),o(t);return}e(n.access_token)})})},sendMessage:function(e,o){console.log(`the token is ${e}`);let t={headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}};console.log(o),s.post("https://fcm.googleapis.com/v1/projects/orphiusb-7f241/messages:send",o,t).then(async function(e){console.log(e)}).catch(e=>{console.error("Error:",e.message),e.response?(console.error("Status:",e.response.status),console.error("Data:",e.response.data)):e.request?console.error("Request:",e.request):console.error("Error:",e.message)})}}},7153:(e,o)=>{var t;Object.defineProperty(o,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(e,o,t)=>{e.exports=t(145)},6315:e=>{e.exports=JSON.parse('{"type":"service_account","project_id":"orphiusb-7f241","private_key_id":"c664e0f6fa4dc2ddd98f62236b2e7c6d08822a6f","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCWWLfud8Mmm+Ya\\nJVAwCHstXjMMqN5gsO/E8FVMOns518EbW/pKT014tq4CbnEFx/WAjPk/fJRk76zX\\n1RCVtdKg+xpm42vO4h6AXsmSh5SHB5LeH2bK1gk1EGw5hUhI1WNWU5lGlmgDLuGw\\nZFWxEc29JHu0R/XALri3e5uFIrU8PngO6KYFKpLQXYv9o/Cy638fl8Jt05i1bH7m\\nONDhBGXiACNYkxHmFId9EWwO2H14/FA1UBkADlnsfO8xENvbaCy780W5k7ty5Izt\\nJGi2eQ6Um/S5bHkMymIkKOrwmP1DG+fGapVBqm1DHbcaWHooR/lpAuAoE3uxLKcK\\nR3f06C5rAgMBAAECggEAEh4P0CdTd4Aa6vSrJJapDU8INNLWtW0s/5z8kmqLte03\\ngo4Da9gBnHXbI0TeztUJUxvp30oqcb1mJT4yOPBHuQl5ZYOrVqtuBIcnoEZBUkJJ\\n4wWCtBe11VSszgOvMcOxLFJ3qoduck/Ad6qnnuZn1g6i75cqWKXosYeuNo13rJIl\\nSDicoJoHf60yOJ8rqhkZBws2L8xX0vzXMiZOf+eO77/HxRnF22j+IOggfogYjRrR\\ncXVsrSHVdWyicy6LiaDWy5uWqsEkC3JJsRREahQpGQsdI8AwNIKNabeYn4JNNH86\\nz9csOLq680KcnALDXUfq7Ku6PevevYke4N74QOSygQKBgQDHsEYWwbN/F2dV4zqu\\neEOYXKQJTVpeO+FfQ2WYqtXug/oSetR67a655XRK8av57arsnRnl2ShSWs/7MLul\\nOuQQ4FsLOtLkpBMnz8QqNep7Ma02kVDTexh2HIofAC9t/mH8Y7BFYT0WoqkWEzvR\\nxRZB1qb9fjcrbg0ZIFmvkYuh6wKBgQDAvmSvBgybDL/BxT5Que0WfQ6OOY/h/IdG\\nwvsiW1wpK+s1jEiM+v7qZYHzys26kA4HSHEgYbMaJp74UYiNWT0fKncClXNCcKxO\\nsApYAHciO/JBAWjgsDCBniP66/UqXbh3jBcZTwN20MTDj/UVK/97neCtdxQQCMe6\\nUrM4b6YFgQKBgQCQPXDzQSmR9OrMrF0X54EUDl7i5UAQb3qE4F8Dnur25df9/0F6\\nJjOezfJprBXIa3eagIRTdb/ddQFkdTglytswoY7CFtR9GVNI35fX0ag1IpX2o5LZ\\nn8H0lvriF7Uq46QNtkh+ZRXGQuqWKoB8Lru8BPwMgV4CffTyIF8IJb7RzwKBgQCo\\nlJ5peygBYThDGeq0HrqgpcbaXLxdE0uad6XB2hiUpiY2krlOHaZii2ALRIGGQMMU\\nWacghHNrVwZJ+L4vqzLLlI+9Acxq+zOqK00QxW9t0PLFKp95joEOjau4pzKq2Igk\\nf7IgX7yO6nB+/+WDnBT8IQ1Hi1RP5e4TKIw6u2SBgQKBgQCtXdxn0xvc2LL3392N\\nVX1iIRkAL6eVxuzJiAw05X9Wy8JQRP49W41Kkna3F/piLaPcIyndkI7vDZOPDNas\\noGwUA8xKca2uzdPHwckUt9pHt4b5AUyVwPHblKzLo7QiCaajkLcezHc89Yo+BDw5\\n8Zde3DKK5dRwNnPyigC6J42MpQ==\\n-----END PRIVATE KEY-----\\n","client_email":"orphiusb@orphiusb-7f241.iam.gserviceaccount.com","client_id":"101232423730257588161","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/orphiusb%40orphiusb-7f241.iam.gserviceaccount.com","universe_domain":"googleapis.com"}')}};var o=require("../../webpack-api-runtime.js");o.C(e);var t=o(o.s=3594);module.exports=t})();